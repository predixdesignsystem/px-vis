  <script src="../../webcomponentsjs/webcomponents-lite.js"></script>
  <link rel="import" href="../../px-theme/px-theme.html"/>
  <link rel="import" href="../../px-datetime-common/px-datetime-imports.html">

  <link rel="import" href="../px-vis-scale.html">
  <link rel="import" href="../px-vis-svg.html">
  <link rel="import" href="../px-vis-register.html">

<dom-module id="px-vis-register-dynamic-demo">
  <template>
    <p class="epsilon demo__title">px-vis-register-dynamic</p>
    <div class="demo u-p+ flex">
      <div>

      <!-- need for register-dynamic -->
        <px-vis-register
          width="[[width]]"
          height="[[heightRegister]]"
          type="horizontal"
          complete-series-config="[[seriesConfig]]"
          tooltip-data=[[tooltipData]]
          muted-series="{{mutedSeries}}"
          x-axis-type="time">
        </px-vis-register>
        <px-vis-svg
          class="outline"
          width="[[width]]"
          height="[[height]]"
          margin="[[margin]]"
          svg="{{svg}}">
        </px-vis-svg>
        <px-vis-scale
          x-axis-type="time"
          y-axis-type="linear"
          complete-series-config="[[seriesConfig]]"
          chart-extents="[[chartExtents]]"
          width="[[width]]"
          height="[[height]]"
          margin="[[margin]]"
          chart-data={{chartData}}
          x="{{x}}"
          y="{{y}}"
          current-domain-x="{{currentDomainX}}"
          current-domain-y="{{currentDomainY}}"
          selected-domain="[[selectedDomain]]">
        </px-vis-scale>
        <px-vis-interaction-space
          x-axis-type="time"
          svg="[[svg]]"
          width="[[width]]"
          height="[[height]]"
          margin="[[margin]]"
          complete-series-config="[[seriesConfig]]"
          chart-data="[[chartData]]"
          tooltip-data={{tooltipData}}
          extents-data={{extentsData}}
          x="[[x]]"
          y="[[y]]"
          current-domain-x="[[currentDomainX]]"
          current-domain-y="[[currentDomainY]]">
        </px-vis-interaction-space>
        <px-vis-line
          svg="[[svg]]"
          series-id="mySeries"
          complete-series-config="[[seriesConfig]]"
          chart-data="[[chartData]]"
          x="[[x]]"
          y="[[y]]"
          current-domain-x="[[currentDomainX]]"
          current-domain-y="[[currentDomainY]]">
        </px-vis-line>

      </div>
      <div class="demo__discription u-pl+">
        <p class="u-mt0">The register displays data from the chart on mouseover. There are two options, a horizontal version for placement above or below the chart, or a vertical version for placement to the right or left of the chart. It must be paired with <strong>px-vis-interaction-space</strong> which provides the mouseover capabilities. Clicking on a series name on the register adds that series to the mutedSeries property. Series on the chart can listen to this property to toggle series on and off.</p>
      </div>
    </div>
    <div>
      <px-demo-snippet
        element-properties="[[elempropRegisterDynamic]]"
        element-name="px-vis-register-dynamic">
      </px-demo-snippet>
    </div>

  </template>
  <script>
    Polymer({
      is: "px-vis-register-dynamic-demo",
      properties:{
        //basics
        width: {
          type : Number,
          value : 500
        },
        height:{
          type : Number,
          value : 150
        },
        heightRegister:{
          type : Number,
          value : 75

        },
        margin:{
          type : Object,
          value : {
            "top": 10,
            "right": 10,
            "bottom": 10,
            "left": 10
          }
        },
        chartData:{
          type : Array,
          value : [{
              'x': 1397102460000,
              'y': 0.56
            },{
              'x': 1397139660000,
              'y': 0.4
            },{
              'x': 1397177400000,
              'y': 0.43
            },{
              'x': 1397228040000,
              'y': 0.33
            },{
              'x': 1397248260000,
              'y': 0.47
            },{
              'x': 1397291280000,
              'y': 0.41
            },{
              'x': 1397318100000,
              'y': 0.26
            },{
              'x': 1397342100000,
              'y': 0.42
            },{
              'x': 1397390820000,
              'y': 0.27
            },{
              'x': 1397408100000,
              'y': 0.38
            },{
              'x': 1397458800000,
              'y': 0.36
            },{
              'x': 1397522940000,
              'y': 0.32
          }]
        },
        seriesConfig:{
          type : Object,
          value: {
            'mySeries': {
              "name":"My-Series",
              "type": "line",
              "x": 'x',
              "y": 'y',
              'color': "rgb(93,165,218)"
            }
          }
        },
        //chartExtents
        chartExtents:{
          type : Object,
          value: {
            "x": [Infinity,-Infinity],
            "y": [0,-Infinity]
          }
        },
        // demo snippet
        elempropRegisterDynamic:{
          type : Object,
          value:{
            "width":"[[basic.width]]",
            "height":"[[basic.height]]",
            "type":"horizontal",
            "complete-series-config":"[[basic.seriesConfig]]",
            "tooltip-data":"[[tooltipData]]",
            "muted-series":"{{mutedSeries}}",
            "x-axis-type":"time"
          }
        }
      }
    });

  </script>
</dom-module>
